app-id: br.app.pw3270.terminal
runtime: org.gnome.Platform
runtime-version: '49'
sdk: org.gnome.Sdk
command: pw3270
finish-args:
  - "--share=network"
  - "--share=ipc"
  - "--socket=fallback-x11"
  - "--socket=wayland"
cleanup:
  - "/include"
  - "/lib/pkgconfig"
  - "/man"
  - "/share/doc"
  - "/share/gtk-doc"
  - "/share/man"
  - "/share/pkgconfig"
  - "*.la"
  - "*.a"
modules:
  - name: lib3270
    buildsystem: meson
    sources:
      - type: git
        tag: "master"
        url: https://github.com/PerryWerneck/lib3270
        x-checker-data:
          - type: git
          - tag-pattern: ([\\d.]+)$
          - is-important: true
  - name: libv3270
    buildsystem: meson
    sources:
      - type: git
        tag: "master"
        url: https://github.com/PerryWerneck/libv3270
        x-checker-data:
          - type: git
          - tag-pattern: ([\\d.]+)$
          - is-important: true
  - name: pw3270
    buildsystem: meson
    sources:
      - type: git
        tag: "develop"
        url: https://github.com/PerryWerneck/pw3270
        x-checker-data:
          - type: git
          - tag-pattern: ([\\d.]+)$
          - is-important: true
    post-install:
      - /usr/bin/glib-compile-schemas /app/share/glib-2.0/schemas/ 
          
